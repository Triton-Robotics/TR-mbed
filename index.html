<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TR-mbed: TR-mbed</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TR-mbed<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">TR-mbed </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> </p><div class="fragment"><div class="line">  __________                  __             __   ___   ____ ___   ______</div>
<div class="line"> /_  __/ __ \      ____ ___  / /_  ___  ____/ /  |__ \ / __ \__ \ / ____/</div>
<div class="line">  / / / /_/ /_____/ __ `__ \/ __ \/ _ \/ __  /   __/ // / / /_/ //___ \  </div>
<div class="line"> / / / _, _/_____/ / / / / / /_/ /  __/ /_/ /   / __// /_/ / __/____/ /  </div>
<div class="line">/_/ /_/ |_|     /_/ /_/ /_/_.___/\___/\__,_/   /____/\____/____/_____/   </div>
</div><!-- fragment --><hr  />
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Table of Contents    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Prerequisites    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Setup    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Flashing    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Troubleshooting    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Documentation   </td></tr>
</table>
<hr  />
<h2><a class="anchor" id="autotoc_md2"></a>
Prerequisites</h2>
<p><b>We have setup guides for the major operating systems.</b></p>
<h3><a class="anchor" id="autotoc_md3"></a>
&lt;strong&gt;Please choose the appropriate setup guide for your operating system:&lt;/strong&gt;</h3>
<ul>
<li>### Linux</li>
<li>### Windows Subsystem for Linux (WSL)</li>
<li>### MacOS</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md5"></a>
Setup</h2>
<ol type="1">
<li>Clone this repo:</li>
</ol>
<div class="fragment"><div class="line">git clone https://github.com/Triton-Robotics/TR-mbed.git</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md6"></a>
At this point, you may choose to diverge from the CLI setup guide and set up an IDE instead. Check out the setup instructions for @ref "/home/runner/work/TR-mbed/TR-mbed/.md/ide/clion.md" "CLion" or @ref "/home/runner/work/TR-mbed/TR-mbed/.md/ide/vscode.md" "VSCode". We higly recommend @ref "/home/runner/work/TR-mbed/TR-mbed/.md/ide/clion.md" "CLion".</h3>
<ol type="1">
<li>Configure <code>CMake</code> project. This should only be done once per project, or after editing any <code>CMakeLists.txt</code>:</li>
</ol>
<div class="fragment"><div class="line">cmake -S . -B cmake-build-debug -GNinja</div>
</div><!-- fragment --><ol type="1">
<li>Build the desired target using your IDE or via CLI:</li>
</ol>
<div class="fragment"><div class="line">cmake --build cmake-build-debug --target TR-TestBench -j $(nproc)</div>
</div><!-- fragment --><p>Viable targets for build are: <code>TR-Engineer</code>, <code>TR-Infantry</code>, <code>TR-Sentry</code>, <code>TR-Hero</code>, and <code>TR-TestBench</code></p>
<hr  />
<h2><a class="anchor" id="autotoc_md8"></a>
Flashing and building code</h2>
<h3><a class="anchor" id="autotoc_md9"></a>
Finding the Makefile</h3>
<ol type="1">
<li>Go into the Makefiles folder, and copy the appropriate makefile for your operating system outside the folder.</li>
<li>Now, you can build your code with the following command:</li>
</ol>
<div class="fragment"><div class="line">make testbench-build</div>
</div><!-- fragment --><p>Note: If the makefile does not work with your system, contact an embed member or team lead for assistance since it might be an issue with the drive (your computer will not work with E drive, to which you have to change it to D in the makefile).</p>
<p>After completing all of this you can make and flash your code to the nucleo using <code>make testbench-jlink</code>, <code>make hero-jlink</code>, <code>make infantry-jlink</code>, and <code>make sentry-jlink</code>, or build with <code>make infantry-build</code>, <code>make sentry-build</code>, <code>make hero-build</code>, or <code>make testbench-build</code>. You should see a block with many numbers when the code is flashed. If you see a red text regarding "missing embed-tools" it is likely becuase you don't have the serial monitor downloaded which is not required to make and flash code.</p>
<h3><a class="anchor" id="autotoc_md10"></a>
Flashing to JLink</h3>
<ol type="1">
<li>Download the <a href="https://www.segger.com/downloads/jlink/">JLink</a> software on your device.</li>
<li>Flash using the makefile, similar to the cmake setup:</li>
</ol>
<div class="fragment"><div class="line">make testbench-jlink</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Flashing STM32 (Old Method)</h2>
<ol type="1">
<li><p class="startli">Locate the generated executable:</p>
<p class="startli">eg. The built executable for TestBench will be present in <code>cmake-build-debug/robots/TestBench/TR-TestBench.elf</code></p>
</li>
<li>Flash the executable to the target device:</li>
</ol>
<div class="fragment"><div class="line">openocd -f board/st_nucleo_f4.cfg -c &quot;program cmake-build-debug/robots/TestBench/TR-TestBench.elf verify reset exit&quot;</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;For flashing device in WSL, see the <a href=".md/os/wsl.md#flashing-stm32">WSL guide</a>. </p>
</blockquote>
<ol type="1">
<li>View serial output:</li>
</ol>
<div class="fragment"><div class="line">mbed-tools sterm -b 115200</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md13"></a>
Troubleshooting</h2>
<p>See the Troubleshooting guide for common issues and solutions.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md15"></a>
Debugging</h2>
<p>See the Debugging guide on how to run the debugger using STM32CubeIDE</p>
<p>See the Ozone Debugger guide on how to run the debugger using the Ozone Debugger.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md17"></a>
Documentation</h2>
<p>See our <a href="https://triton-robotics.github.io/TR-mbed/">generated doxygen</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
