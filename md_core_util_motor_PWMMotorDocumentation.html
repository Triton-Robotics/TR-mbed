<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TR-mbed: PWMMotorDocumentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TR-mbed
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PWMMotorDocumentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Outputs the standard pulse widths (from 1ms to 2ms) for controlling most servos / brushless ESCs that use pwm to modulate the output command</p>
<h1><a class="anchor" id="autotoc_md27"></a>
Class Constructor:</h1>
<div class="fragment"><div class="line"><a class="code" href="classPWMMotor.html">PWMMotor</a>(PinName pin, <span class="keywordtype">int</span> defaultVal)</div>
<div class="ttc" id="aclassPWMMotor_html"><div class="ttname"><a href="classPWMMotor.html">PWMMotor</a></div><div class="ttdef"><b>Definition:</b> PWMMotor.h:10</div></div>
</div><!-- fragment --><p><b>pin</b> : the pin the motor is on, Any PWM capable output pin. This will be the pin you plug the actual data signal. This is usually the white or yellow pin, and definitely not the pin that is black or red</p>
<p><b>defaultVal</b> : integer PWM command from <b>0 - 180</b> sent to the pin on startup. Useful for Brushless ESCs where they require an "intialization" command equivalent to setting the throttle to zero.</p>
<h1><a class="anchor" id="autotoc_md28"></a>
Motor Movement</h1>
<p>You can move a motor with this function:</p>
<p><code>void&#160;set(int motorVal)</code></p>
<p>This outputs PWM to the pin. motorVal can be a value from <b>0 - 180</b> and correlates from a pulse width of 1ms to 2ms.</p>
<h1><a class="anchor" id="autotoc_md29"></a>
Example</h1>
<p>Intializes PWM pin D5 to control a PWM capable ESC. First sets an int 90 command on startup. Then waits 100ms and later sends a new command</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;mbed.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;stdlib.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../TR-mbed6/util/motor/pwmmotor.cpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="classPWMMotor.html">PWMMotor</a> brushlessmotor(D5,90);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(){</div>
<div class="line">    osDelay(100);</div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        brushlessmotor.set(10);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md30"></a>
Important Note</h1>
<p>Note that some servos/ESCs don't use a pulse-width from 1ms to 2ms (for some reason) even though the datasheet says it should. During Ming's testing, some servos required a value from -90 to 90 for their full range of motion or 0 - 230. Don't be afriad to go outside of the boundaries. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
